import sys
import getopt
import requests
from bs4 import BeautifulSoup
import re


#banner信息
def banner():
    print('\033[1;34m########################################################################################\033[0m\n'
          '\033[1;34m######################################\033[1;32m贝塔安全实验室\033[1;34m#####################################\033[0m\n'
          '\033[1;34m########################################################################################\033[0m\n')

#使用规则
def usage():
    print('-h: --help 帮助;')
    print('-u: --url  域名;')
    print('-p: --pages 页数;')
    print('eg: python -u "www.baidu.com" -p 100'+'\n')
    sys.exit()

def start(argv):
    url = ''
    pages = ''
    if len(sys.argv) < 2:
        print('-h 帮助信息;\n')
        sys.exit()
    #定义异常处理
    try:
        banner()
        opts, args = getopt.getopt(argv, '-u:-p:-h')
    except getopt.GetoptError:
        print('Error an argument!')
        sys.exit()
    for opt, arg in opts:
        if opt =='-u':
            url = arg
        elif opt == '-p':
            pages = arg
        elif opt =='-h':
            print(usage())
        launcher(url, pages)



if __name__ == '__main__':
    #定义异常
    try:
        start(sys.argv[1:])
    except KeyboardInterrupt:
        print("interrupted by user,killing all threads...")
